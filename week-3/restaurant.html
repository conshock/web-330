<!--
    Title: index.html
    Author: Conner Shockley
    Date: 3/30/2021
    Description: application.
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Head for landing page with links to the course Google fonts -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEB 330 - Enterprise Javascript II</title>
    <link rel="stylesheet" href="../theme.css">
    <link rel="stylesheet" href="../site.css">
    <link rel="stylesheet" href="restaurant.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head>

    <!-- Body theme set to light-theme by default. Changes based on theme.js. -->
    <body class="light-theme">

        <!-- Div containing all content -->
        <div class="container">
            <!-- Welcome text. -->
            <div class="app-header">Welcome to the Restaurant App!</div>

            <!-- Main content of the assignment. -->
            <div class="assign-content">
                <div class="card">
                    <!-- Main Card title. -->
                    <div class="card-title">Restaurant Menu</div>
                    <!-- Main Card content. -->
                    <div class="card-content">
                        
                        <!-- Side-by-side displays in grid for better formatting. -->
                        <div class="side-by-side">
                            <!-- Beverages card with menu items and prices. -->
                            <div class="cards">
                                <div class="card-title">Beverages</div>
                                <div class="card content" id="beverages">
                                    <label for="soda">
                                        <input type="checkbox" id="soda" value="3.30">Soda($3.30)</input>
                                    </label>
                                    <br>
                                    <label for="tea">
                                        <input type="checkbox" id="tea" value="3.30">Sweet Tea ($3.30)</input>
                                    </label>
                                    <br>
                                    <label for="coffee">
                                        <input type="checkbox" id="coffee" value="2.49">Iced Coffee ($2.49)</input>
                                    </label>
                                    <br>
                                    <label for="water">
                                        <input type="checkbox" id="water" value="2.15">Bottled Water ($2.15)</input>
                                    </label>
                                </div>
                            </div>
                        
                            <!-- Appetizers card with menu items and prices. -->
                            <div class="cards">
                                <div class="card-title">Appetizers</div>
                                <div class="card content" id="appetizers">
                                    <label for="nachos">
                                        <input type="checkbox" id="nachos" value="6.60">Nachos ($6.60)</input>
                                    </label>
                                    <br>
                                    <label for="chips">
                                        <input type="checkbox" id="chips" value="5.50">Chips and Salsa ($5.50)</input>
                                    </label>
                                    <br>
                                    <label for="pretzel">
                                        <input type="checkbox" id="pretzel" value="8.80">Pretzel with Cheese ($8.80)</input>
                                    </label>
                                    <br>
                                    <label for="pickles">
                                        <input type="checkbox" id="pickles" value="8.25">Fried Pickles ($8.25)</input>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Second side-by-side div. Side-by-side displays in grid for better formatting. -->
                        <div class="side-by-side">
                            <!-- MainCourses card with menu items and prices. -->
                            <div class="cards">
                                <div class="card-title">Main Courses</div>
                                <div class="card content" id="main-courses">
                                    <label for="tacos">
                                        <input type="checkbox" id="tacos" value="9.70">Street Tacos ($9.70)</input>
                                    </label>
                                    <br>
                                    <label for="wings">
                                        <input type="checkbox" id="wings" value="12.80">Boneless Wings ($12.80)</input>
                                    </label>
                                    <br>
                                    <label for="burger">
                                        <input type="checkbox" id="burger" value="12.65">Cheese Burger with Fries ($12.65)</input>
                                    </label>
                                    <br>
                                    <label for="wrap">
                                        <input type="checkbox" id="wrap" value="9.65">Chicken Wrap with Salad ($9.65)</input>
                                    </label>
                                </div>
                            </div>
                        
                            <!-- Desserts card with menu items and prices. -->
                            <div class="cards">
                                <div class="card-title">Desserts</div>
                                <div class="card content" id="desserts">
                                    <label for="cream">
                                        <input type="checkbox" id="cream" value="4.30">Ice Cream ($4.30)</input>
                                    </label>
                                    <br>
                                    <label for="cake">
                                        <input type="checkbox" id="cake" value="5.40">Chocolate Cake ($5.40)</input>
                                    </label>
                                    <br>
                                    <label for="pie">
                                        <input type="checkbox" id="pie" value="3.80">Apple Pie ($3.80)</input>
                                    </label>
                                    <br>
                                    <!-- Button binds to an onclick function that tallies your total price. -->
                                    <button id="btnOrder" class="btn btn-primary full-width">Place Order</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Link that returns to web-330 homepage -->
                <a class="return-home" href="../index.html">Return</a>

                <!-- Results card -->
                <div class="card">
                    <div class="card-title">Order Summary</div>
                    <!-- This div will display your total onclick of the previous button. -->
                    <div class="card-content assign-results-text" id="order-total"></div>
                </div>
            </div>
        </div>


        <script type="application/javascript" src="../theme.js"></script>

        <script type="module">


            // Importing classes from the index.js file.
            import { Bill, Beverage, Appetizer, MainCourse, Dessert } from "./index.js"

            // Binding onclick function to btnOrder element.
            document.getElementById("btnOrder").onclick = function() {

                // Sets up variables for main-course input.
                const mainCoursesEl = document.getElementById("main-courses");
                const mainCourses = mainCoursesEl.getElementsByTagName("input");

                // Sets up variables for appetizer input.
                const appetizerEl = document.getElementById("appetizers");
                const appetizers = appetizerEl.getElementsByTagName("input");

                // Sets up variables for beverage input.
                const beveragesEl = document.getElementById("beverages");
                const beverages= beveragesEl.getElementsByTagName("input");

                // Sets up variables for dessert input.
                const dessertsEl = document.getElementById("desserts");
                const desserts = dessertsEl.getElementsByTagName("input");

                // New Bill class instance created.
                let bill = new Bill();
                
                    // For loop with nested if statement that adds price of main-course menu items to total price.
                    for (let mainCourse of mainCourses)
                    {
                        if (mainCourse.checked)
                        {
                            bill.addMainCourse(new MainCourse(mainCourse.name, mainCourse.value));
                        }
                    }

                    // For loop with nested if statement that adds price of appetizer menu items to total price.
                    for (let appetizer of appetizers)
                    {
                        if (appetizer.checked)
                        {
                            bill.addAppetizer(new Appetizer(appetizer.name, appetizer.value));
                        }
                    }

                    // For loop with nested if statement that adds price of beverage menu items to total price.
                    for (let beverage of beverages)
                    {
                        if (beverage.checked)
                        {
                            bill.addBeverage(new Beverage(beverage.name, beverage.value));
                        }
                    }

                    // For loop with nested if statement that adds price of dessert menu items to total price.
                    for (let dessert of desserts)
                    {
                        if (dessert.checked)
                        {
                            bill.addDessert(new Dessert(dessert.name, dessert.value));
                        }
                    }

                    // Sets total to the total values of the bill instance.
                    let total = bill.getTotal();

                    // Binds the order-total element to display "Your order total is (total)"
                    document.getElementById("order-total").innerHTML = `Your order total is ${total}`;
            }


        </script>
    </body>
</html>